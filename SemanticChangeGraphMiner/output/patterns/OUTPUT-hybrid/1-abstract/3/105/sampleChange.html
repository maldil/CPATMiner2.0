<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3>5fbb04531d0a049180ec05c778f07e4a95cca1ca,nd4j/nd4j-backends/nd4j-api-parent/nd4j-api/src/main/java/org/nd4j/linalg/api/ops/impl/transforms/custom/Max.java,Max,doDiff,#List#,75
</h3><h3>Before Change</h3><pre><code class='java'>
    public List&lt;SDVariable&gt; doDiff(List&lt;SDVariable&gt; f1) {
        //TODO Switch to maximum_bp op - https://github.com/deeplearning4j/deeplearning4j/blob/master/libnd4j/include/ops/declarable/generic/broadcastable/maximum.cpp
        SDVariable max = outputVariables()[0];
        SDVariable eq1 = sameDiff.eq(larg(), max).castTo(<a id="change">arg(</a>0<a id="change">)</a>.dataType());
        SDVariable eq2 = sameDiff.eq(rarg(), max).castTo(arg(1).dataType());

        return Arrays.asList(eq1.<a id="change">mul(</a>f1.get(0)<a id="change">)</a>, eq2.mul(f1.get(0)));
    }

    @Override</code></pre><h3>After Change</h3><pre><code class='java'>

    @Override
    public List&lt;SDVariable&gt; doDiff(List&lt;SDVariable&gt; f1) {
        return Arrays.asList(new MaximumBp(sameDiff, <a id="change">arg(</a>0<a id="change">)</a>, arg(1), f1.get(0)).outputVariables());
    }

    @Override</code></pre>