<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3>615a48f0cff8aab1d96d8dd9611a301b5ede5360,deeplearning4j/deeplearning4j-nn/src/main/java/org/deeplearning4j/nn/layers/convolution/DepthwiseConvolution2DLayer.java,DepthwiseConvolution2DLayer,preOutput,#boolean#boolean#LayerWorkspaceMgr#,154
</h3><h3>Before Change</h3><pre><code class='java'>
            String layerName = conf.getLayer().getLayerName();
            if (layerName == null)
                layerName = "(not named)";
            <a id="change">throw </a>new DL4JInvalidInputException("Cannot do forward pass in DepthwiseConvolution2D layer " +
                    "(layer name = " + layerName
                    + ", layer index = " + index + "): input array channels does not match CNN layer configuration"
                    + " (data input channels = " + input.size(1) + ", "</code></pre><h3>After Change</h3><pre><code class='java'>
                    + Arrays.toString(input.shape()) + "; expected" + " input channels = " + inDepth + ") "
                    + layerId();
            int dimIfWrongFormat = format == CNN2DFormat.NHWC ? 1 : 3;
            if(<a id="change">input</a>.<a id="change">size(dimIfWrongFormat</a><a id="change">)</a><a id="change"> == inDepth</a>){
                //User might have passed NCHW data to a NHWC net, or vice versa?
                s += <a id="change">"\n"</a><a id="change"> + ConvolutionUtils.NCHW_NHWC_ERROR_MSG</a>;
            }

            <a id="change">throw </a>new DL4JInvalidInputException(s);
        }
        int kH = (int) depthWiseWeights.size(0);
        int kW = (int) depthWiseWeights.size(1);</code></pre>